# ChemX Python Client

`chemx-client` — это Python-библиотека для доступа к научной платформе **ChemX**.

**ChemX** — это экосистема для работы с научными данными о наноматериалах. Наша цель — предоставить исследователям и аналитикам готовые инструменты для доступа и анализа данных. Платформа состоит из трёх ключевых компонентов:

1.  **ChemX-DBT:** ELT-пайплайн, который очищает, стандартизирует и готовит витрины данных.
2.  **ChemX-Backend:** API-сервер на FastAPI, который предоставляет доступ к этим данным через REST API.
3.  **ChemX-Client-Python (эта библиотека):** Удобный инструмент для получения данных с нашего API напрямую в Python.

Эта библиотека избавляет вас от необходимости делать прямые HTTP-запросы и возвращает данные в удобном формате `pandas.DataFrame`, готовом для анализа и использования в Jupyter Notebooks, ML-моделях и других скриптах.

---

## Быстрый старт

### 1. Установка

Вы можете установить последнюю версию библиотеки напрямую с GitHub:

```bash
!pip install --upgrade git+https://github.com/ai-chem/chemx-client-python
```

### 2. Пример использования

Вот как просто начать работу. Всего три шага, чтобы получить нужные вам данные:

```python
from chemx_client.client import ChemXClient, ChemXAPIError

# Шаг 1: Инициализируйте клиент
client = ChemXClient()

# Шаг 2: Посмотрите, какие наборы данных вообще доступны
try:
    schema = client.get_schema()
    print("Доступные домены:", schema['available_domains'])
    print("Доступные типы данных:", schema['available_data_types'])
except ChemXAPIError as e:
    print(f"Ошибка: {e}")

# Шаг 3: Загрузите нужный вам датасет
try:
    # Например, получим ML-версию данных для домена 'cytotox'
    df = client.get_dataset(domain='cytotox', data_type='ml_data')
    print("\nУспешно загружены данные по цитотоксичности:")
    print(df.head())
except ChemXAPIError as e:
    print(f"Ошибка: {e}")
```

## Интерактивный туториал

Для подробного пошагового руководства с практическими примерами анализа и визуализации, пожалуйста, откройте наш Jupyter ноутбук:

**[Открыть туториал](https://colab.research.google.com/drive/1oON2MsEN0Kyy2vAljV2f6V7fdgpaRfqi?usp=sharing)**

---

## Справочник по методам (API Reference)

Библиотека предоставляет два способа получения данных: универсальный (рекомендуемый) и специфичный.

### Универсальные методы (Рекомендуемый подход)

Это самый гибкий способ получить любые данные.

| Метод                                       | Описание                                                                  | Возвращает            |
| ------------------------------------------- | ------------------------------------------------------------------------- | --------------------- |
| `get_schema()`                              | Получает словарь со списками всех доступных доменов и типов данных.          | `dict`                |
| `get_dataset(domain, data_type, ...)`       | Загружает указанный датасет по его домену и типу.                           | `pandas.DataFrame`    |

### Специфичные методы (Методы-сокращения)

Для удобства и обратной совместимости сохранены методы для прямого доступа к каждому датасету. Они являются просто "короткими командами" для `get_dataset()`.

**Пример:**
`client.get_cytotox_ml_data()` — это то же самое, что и `client.get_dataset(domain='cytotox', data_type='ml_data')`.

**Список методов:**
*   **Данные о цитотоксичности:** `get_cytotox_data()`, `get_cytotox_ml_data()`, `get_cytotox_column_stats()`, и т.д.
*   **Данные о наномагнетизме:** `get_nanomag_data()`, `get_nanomag_ml_data()`, `get_nanomag_column_stats()`, и т.д.
*   *(и так далее для остальных доменов...)*

### Обработка ошибок

Все методы могут выбросить исключение `ChemXAPIError` в случае проблем с сетью или сервером. Рекомендуется оборачивать вызовы в блок `try...except`.

```python
try:
    df = client.get_dataset(domain='non_existent_domain', data_type='all_data')
except ChemXAPIError as e:
    print(f"Произошла ошибка при запросе к API: {e}")
```